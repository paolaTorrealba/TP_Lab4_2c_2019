<app-principal></app-principal>
<br><br>
<h3 *ngIf="vacia == true" >
        <p class= "no-resultados"> No hay pedidos pendientes de entrega<i class="far fa-thumbs-up"></i></p>
        </h3>
<div  *ngIf="!vacia == true">
    <table mat-table [dataSource]="dataSource">
        <tr>
                <ng-container matColumnDef="Mesa">
                <th mat-header-cell *matHeaderCellDef> Mesa </th>
                <td mat-cell *matCellDef="let element"> {{element.codigoMesa}} </td>
                </ng-container>     
                <ng-container matColumnDef="Importe">
                        <th mat-header-cell *matHeaderCellDef> Importe </th>
                        <td mat-cell *matCellDef="let element"> $ {{element.montoTotal}} </td>
                        </ng-container> 
                <ng-container matColumnDef="Estado">
                <th mat-header-cell *matHeaderCellDef> Estado </th>
                <td mat-cell *matCellDef="let element"> {{element.estado}} </td>
                </ng-container> 
                <ng-container matColumnDef="Detalle">
                        <th mat-header-cell *matHeaderCellDef> Detalle </th>
                        <td mat-cell *matCellDef="let element">
                                <button mat-icon-button (click)="showInfo(element)">
                                        <mat-icon>assignment</mat-icon>
                                </button> 
                        </td>    
                </ng-container>  
                <ng-container matColumnDef="Entregar">
                        <th mat-header-cell *matHeaderCellDef> Entregar Pedido </th>
                        <td mat-cell *matCellDef="let element">
                                <button *ngIf="element.estado=='listo para servir'" mat-icon-button (click)="entregarPedido(element)">
                                    <mat-icon>check_circle</mat-icon>
                                </button> 
                </td>    
                </ng-container>  
        </tr>
        <div>
                <tr mat-header-row *matHeaderRowDef="columsPedidos"></tr>
                <tr mat-row *matRowDef="let row; columns: columsPedidos;" [appColorPedidoPendiente]="row.estado" ></tr>
        </div>
</table>

<br><br>
<label>Detalle del Pedido:</label>
    <table  mat-table [dataSource]="productos">
           <tr>
                <ng-container matColumnDef="Descripcion">
                    <th mat-header-cell *matHeaderCellDef> Descripcion </th>
                    <td mat-cell *matCellDef="let prod"> {{prod.descripcion}} </td>
                </ng-container>                
                <ng-container matColumnDef="Empleado">
                        <th mat-header-cell *matHeaderCellDef> Empleado </th>
                        <td mat-cell *matCellDef="let prod"> {{prod.empleado}} </td>
                </ng-container> 
                <ng-container matColumnDef="Estado Producto">
                        <th mat-header-cell *matHeaderCellDef> Estado Producto </th>
                        <td mat-cell *matCellDef="let prod"> {{prod.estadoProdPedido}} </td>
                </ng-container>                 
                <ng-container matColumnDef="Foto">
                        <th mat-header-cell *matHeaderCellDef> Foto </th>
                        <td mat-cell *matCellDef="let prod" style="padding-top: 1%;padding-bottom: 1%;">
                                <img style="width: 100px;" src="{{prod.foto}}" class="md-card-image" alt="image caption"/>
                        </td>
                </ng-container>     
         
           </tr>
           <div>
                <tr mat-header-row *matHeaderRowDef="columsProductoPedido"></tr>
                <tr mat-row *matRowDef="let row; columns: columsProductoPedido;"></tr>
            </div> 
    </table>
</div> 


<!-- <ul *ngFor="let item of pedidos">
        <div *ngIf="item.estado==listoParaServir">
                   <p >Mesa: {{item.mesa}}</p>
                   <p >Importe: {{item.montoTotal}}</p>
                   <p >Estado Pedido: {{item.estado}}</p>
                   <p >Cliente: {{item.nombreCliente}}</p>   
                   <p >Tiempo Elaboracion: {{item.tiempoElaboracion}} (tiempo restante)</p>       
                   <ul *ngFor="let producto of item.productos">
                           <p >descripcion: {{producto.descripcion}}</p>
                           <p >precio: {{producto.precio}}</p>
                           <p >empleado: {{producto.empleado}}</p>
                           <p >estado producto: {{producto.estadoProdPedido}}</p>
                           <p >tiempo Elaboracion: {{producto.tiempoPromedioElaboracion}}</p>
                           <p >......................</p>  -->
                           <!-- <p >nombre Cliente: {{item.nombreCliente}}</p>   
                           <p >tiempo restante: {{item.tiempoElaboracion}}</p>        -->
                   <!-- </ul> 
                   <br>
                    <button (click)="entregarPedido(item)">Entregar Pedido</button>
                     
        </div>
       </ul>  -->
   
   
