<app-principal></app-principal>
<br><br>
<h3 *ngIf="vacia == true" >
     <p class= "no-resultados"> No hay pedidos pendientes<i class="far fa-thumbs-up"></i></p>
</h3>
<div  *ngIf="!vacia == true">
   <table mat-table [dataSource]="pedidos">
      <tr>
          <ng-container matColumnDef="Codigo Pedido">
                    <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> Codigo Pedido </th>
                    <td mat-cell *matCellDef="let element">{{element.codigoPedido}} </td>
          </ng-container> 
          <ng-container matColumnDef="Detalle">
                <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> Detalle </th>
                <td mat-cell *matCellDef="let element">
                      <button *ngIf="element.estado==aceptado" mat-icon-button (click)="showInfo(element)">
                          <mat-icon>assignment</mat-icon>
                      </button> 
                </td>    
            </ng-container> 
       
          <ng-container matColumnDef="Tiempo Elaboracion">
              <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> Tiempo Elaboracion </th>
              <td mat-cell *matCellDef="let element"> {{element.tiempoElaboracion}} </td>
          </ng-container>         
              
      </tr>
      <div>
              <tr mat-header-row *matHeaderRowDef="columsPedido"></tr>
              <tr mat-row *matRowDef="let row; columns: columsPedido;"  ></tr>
      </div>
</table>
<br><br>
<label>Detalle del Pedido:</label>
<app-pedido-cervecero [filterName]="'Filtro por tipo'" (busquedaEvento)="aplicarFiltros($event)"></app-pedido-cervecero>

<table  mat-table [dataSource]="dataSourceProd">
           <tr>
                <ng-container matColumnDef="Tipo">
                    <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> Tipo </th>
                    <td mat-cell *matCellDef="let prod"> {{prod.tipo}} </td>
                </ng-container>
                <ng-container matColumnDef="Descripcion">
                    <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> Descripcion </th>
                    <td mat-cell *matCellDef="let prod"> {{prod.descripcion}} </td>
                </ng-container> 
                <ng-container matColumnDef="Precio">
                        <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> Precio </th>
                        <td mat-cell *matCellDef="let prod"> {{prod.precio}} </td>
                </ng-container> 
                <ng-container matColumnDef="Empleado">
                        <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> Empleado </th>
                        <td mat-cell *matCellDef="let prod"> {{prod.empleado}} </td>
                </ng-container> 
                <ng-container matColumnDef="Estado Producto">
                        <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> Estado Producto </th>
                        <td mat-cell *matCellDef="let prod"> {{prod.estadoProdPedido}} </td>
                </ng-container> 
                <ng-container matColumnDef="Tiempo Promedio Elaboracion">
                        <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> Tiempo Promedio Elaboracion </th>
                        <td mat-cell *matCellDef="let prod"> {{prod.tiempoPromedioElaboracion}} </td>
                </ng-container>
                <ng-container matColumnDef="Tomar Pedido">
                        <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> Tomar Pedido </th>
                        <td mat-cell *matCellDef="let prod">
                        <button *ngIf="prod.estadoProdPedido=='pendiente'&& tarea==prod.tipo" mat-icon-button (click)="tomarPedido(prod)">
                            <mat-icon>check_circle</mat-icon>
                        </button> 
                        </td>    
                 </ng-container>
                <ng-container matColumnDef="Foto">
                        <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> Foto </th>
                        <td mat-cell *matCellDef="let prod" style="padding-top: 1%;padding-bottom: 1%;">
                            <img style="width: 100px;" src="{{prod.foto}}" class="md-card-image" alt="image caption"/>
                        </td>
                </ng-container>                 
           </tr>
           <div>
                <tr mat-header-row *matHeaderRowDef="columsProductoPedido"></tr>
                <tr mat-row *matRowDef="let row; columns: columsProductoPedido;"></tr>
            </div> 
  </table>
</div>