<app-principal></app-principal><br><br>
<div *ngIf="vacia == undefined" class="d-flex justify-content-center">
    <div class="spinner-grow text-primary" style="width: 3rem; height: 3rem; margin-top: 10%;" role="status">
      <span class="sr-only">Loading...</span>
    </div>
</div> 
<div *ngIf="vacia != undefined" >
<h3 *ngIf="vacia == true" >
       <p class= "no-resultados"> No hay pedidos para mostrar <i class="far fa-thumbs-up"></i></p>
</h3>
<div *ngIf="vacia == false">
        <table mat-table [dataSource]="pedidosAceptados">
                <tr>
                    <ng-container matColumnDef="Codigo Pedido">
                        <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> CÃ³digo Pedido </th>
                        <td style="color: black;font-size: large;" mat-cell *matCellDef="let element"> {{element.codigoPedido}} </td>
                    </ng-container>                   
                    <ng-container matColumnDef="Estado">
                        <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> Estado </th>
                        <td style="color: black;font-size: large;" mat-cell *matCellDef="let element"> {{element.estado}} </td>
                    </ng-container>                   
                    <ng-container matColumnDef="Detalle">
                        <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> Detalle </th>
                        <td style="color: black;font-size: large;" mat-cell *matCellDef="let element">
                        <button mat-icon-button (click)="showInfo(element)">
                                <mat-icon>assignment</mat-icon>
                        </button> 
                        </td>    
                    </ng-container>        
               </tr>
               <div>
                    <tr mat-header-row *matHeaderRowDef="columsPedido"></tr>
                    <tr mat-row *matRowDef="let row; columns: columsPedido;"></tr>
                </div>
        </table>
        <br>
</div>
<div *ngIf="info">
   <h2 class="no-span">Detalle de Pedido:</h2>
        <table  mat-table [dataSource]="productos">
            <tr>
                <ng-container matColumnDef="Tipo">
                    <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> Tipo</th>
                    <td style="color: black;font-size: large;" mat-cell *matCellDef="let prod"> {{prod.tipo}} </td>
                </ng-container> 
                <ng-container matColumnDef="Descripcion">
                    <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> Descripcion </th>
                    <td style="color: black;font-size: large;" mat-cell *matCellDef="let prod"> {{prod.descripcion}} </td>
                </ng-container> 
                <ng-container matColumnDef="Empleado">
                    <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> Empleado </th>
                    <td style="color: black;font-size: large;" mat-cell *matCellDef="let prod"> {{prod.empleado}} </td>
                </ng-container>                        
                <ng-container matColumnDef="Estado Producto">
                    <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> Estado Producto </th>
                    <td style="color: black;font-size: large;" mat-cell *matCellDef="let prod"> {{prod.estadoProdPedido}} </td>
                </ng-container>
                <ng-container matColumnDef="Finalizar">
                    <th style="color: black;font-size: x-large;" mat-header-cell *matHeaderCellDef> Finalizar </th>
                    <td style="color: black;font-size: large;" mat-cell *matCellDef="let prod">
                    <button *ngIf="prod.empleado==this.correo" mat-icon-button (click)="cerrarPedido(prod)">
                            <mat-icon>check_circle</mat-icon>
                    </button> 
                    </td>    
                </ng-container>  
                
            </tr>
            <div>
                <tr mat-header-row *matHeaderRowDef="columsProductoPedido"></tr>
                <tr mat-row *matRowDef="let row; columns: columsProductoPedido;"></tr>
            </div>
        </table>
        <br><br><br><br>
</div>
</div>

